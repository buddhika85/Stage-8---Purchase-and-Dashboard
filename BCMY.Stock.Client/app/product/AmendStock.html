<div>
    <h4>{{vm.title}}</h4>
    <br />

    <!-- panel for - Download to excel-->
    <div class="panel panel-default">

        <div class="panel-body">

            <fieldset>
                <legend style="font-size:medium;" id="productSearchPanelHeading" class="panel-heading">Product information Excel download</legend>

                <div id="productSerahcForm">
                    <!--Information on search-->
                    <div class="form-group row">
                        <p class="col-md-12">
                            <kbd>IMPORTANT:</kbd>&nbsp;&nbsp;
                            To download stock information excel - first select the product <code>category</code>,
                            then based on that the <code>condition</code>, then the <code>brand</code>
                            and finally the <code>model</code>. All are mandatory selections.
                        </p>
                    </div>

                    <div class="form-group row">

                        <!--category selection-->
                        <label for="selectCategoryExc" class="control-label col-md-1 fontWeightNormal">Category</label>
                        <div class="col-md-4">
                            <select id="selectCategoryExc" multiple ng-model="vm.categoriesSelected" ng-change="vm.onCategoriesSelection()" ng-class="vm.categoriesClass" ng-disabled="{{vm.selectCategoryDisabled}}">
                                <option ng-repeat="category in vm.categories" value="{{category.productCategoryID}}">{{category.productCatergoryName}}</option>
                            </select>
                        </div>

                        <!--condition selection-->
                        <label for="selectConditionExc" class="control-label col-md-1 fontWeightNormal">Condition</label>
                        <div class="col-md-4">
                            <select id="selectConditionExc" multiple ng-model="vm.conditionsSelected" ng-change="vm.onConditionsSelection()" ng-disabled="{{vm.selectConditionDisabled}}">                                
                                <option ng-repeat="condition in vm.conditions" value="{{condition.conditionID}}">{{condition.conditionName}}</option>
                            </select>
                        </div>

                        <div class="col-md-2">
                            <button class="col-md-12 fontWeightNormal" ng-click="vm.resetSearchExc()" id="resetBtn" ng-disabled="{{vm.resetSearchBtnDisabled}}">Reset Excel Filter</button>
                        </div>
                    </div>

                    <div class="form-group row">

                        <!--brand selection-->
                        <label for="selectBrandExc" class="control-label col-md-1 fontWeightNormal">Brand</label>
                        <div class="col-md-4">
                            <select id="selectBrandExc" multiple ng-change="vm.onBrandsSelection()" ng-model="vm.brandsSelected" ng-disabled="{{vm.selectBrandDisabled}}">                                
                                <option ng-repeat="brand in vm.brands" value="{{brand.productbrandid}}">{{brand.productbrandname}}</option>
                            </select>
                        </div>

                        <!--model selection-->
                        <label for="selectModelExc" class="control-label col-md-1 fontWeightNormal">Model</label>
                        <div class="col-md-4">
                            <select id="selectModelExc" multiple ng-model="vm.modelsSelected" ng-disabled="{{vm.selectModelDisabled}}">
                                <!--<option>---- Select Model ----</option>-->
                                <option ng-repeat="model in vm.models" value="{{model.productListId}}">{{model.model}}</option>
                            </select>
                        </div>

                        <div class="col-md-2">
                            <button class="col-md-12 fontWeightNormal" ng-click="vm.downloadExcel()" id="btnDownloadExcel"
                                    ng-disabled="{{vm.amendStockBtnDisabled}}">
                                Download Excel
                            </button>
                        </div>
                    </div>

                    <!--error message-->
                    <div class="form-group row">
                        <div class="col-md-12">
                            <label class="control-label fontWeightNormal" style="color:red" id="lblErrorMessageExc"></label>
                        </div>
                    </div>
                </div>
            </fieldset>

        </div>
    </div>

    <!-- panel for - Amend stock of a single model-->
    <div class="panel panel-default">

        <div class="panel-body">

            <fieldset>
                <legend style="font-size:medium;" id="productSearchPanelHeading" class="panel-heading">Amend stock count - single model</legend>

                <div id="productSerahcForm">
                    <!--Information on search-->
                    <div class="form-group row">
                        <p class="col-md-12">
                            <kbd>IMPORTANT:</kbd>&nbsp;&nbsp;
                            To amend stock counts - first select the product <code>category</code>,
                            then based on that the <code>condition</code>, then the <code>brand</code>
                            and finally the <code>model</code>. All are mandatory selections.
                        </p>
                    </div>

                    <div class="form-group row">

                        <!--category selection-->
                        <label for="selectCategory" class="control-label col-md-1 fontWeightNormal">Category</label>
                        <div class="col-md-4">
                            <select id="selectCategory" ng-disabled="{{vm.selectCategoryDisabled}}">
                                <option>---- Select Category ----</option>
                            </select>
                        </div>

                        <!--condition selection-->
                        <label for="selectCondition" class="control-label col-md-1 fontWeightNormal">Condition</label>
                        <div class="col-md-4">
                            <select id="selectCondition" ng-disabled="{{vm.selectConditionDisabled}}">
                                <option>---- Select Condition ----</option>
                            </select>
                        </div>

                        <div class="col-md-2">
                            <button class="col-md-12 fontWeightNormal" ng-click="vm.resetSearch()" id="resetBtn" ng-disabled="{{vm.resetSearchBtnDisabled}}">Reset Search</button>
                        </div>
                    </div>

                    <div class="form-group row">

                        <!--brand selection-->
                        <label for="selectBrand" class="control-label col-md-1 fontWeightNormal">Brand</label>
                        <div class="col-md-4">
                            <select id="selectBrand" ng-disabled="{{vm.selectBrandDisabled}}">
                                <option>---- Select Brand ----</option>
                            </select>
                        </div>

                        <!--model selection-->
                        <label for="selectModel" class="control-label col-md-1 fontWeightNormal">Model</label>
                        <div class="col-md-4">
                            <select id="selectModel" ng-disabled="{{vm.selectModelDisabled}}">
                                <option>---- Select Model ----</option>
                            </select>
                        </div>

                        <div class="col-md-2">
                            <button class="col-md-12 fontWeightNormal" ng-click="vm.amendStock()" id="btnSearchProducts"
                                    ng-disabled="{{vm.amendStockBtnDisabled}}">Amend Stock</button>
                        </div>
                    </div>

                    <!--error message-->
                    <div class="form-group row">
                        <div class="col-md-12">
                            <label class="control-label fontWeightNormal" style="color:red" id="lblErrorMessage"></label>
                        </div>
                    </div>
                </div>
            </fieldset>

        </div>
    </div>


    <!--Product grid -->
    <div class="panel panel-default">

        <div class="panel-body" >

            <fieldset>
                <legend style="font-size:medium;" id="productPanelHeading" class="panel-heading">Products with stock counts</legend>
                <!--Information on search-->
                <div class="form-group row">
                    <p class="col-md-12">
                        <kbd>IMPORTANT:</kbd>&nbsp;&nbsp;
                        In the 'counted' table column <span style="text-align:center; padding-left:1%"/> 
                        <span style="background-color:green; text-align:center; padding-left:2%; padding-right: 2%">Yes</span>
                        <span style="text-align:center; padding-right:1%" /> means  
                        <code>stock counted</code> and,
                        <span style="text-align:center; padding-left:1%" />
                        <span style="background-color:darkorange; text-align:center; padding-left:2%; padding-right: 2%">No</span>
                        <span style="text-align:center; padding-right:1%" /> means  
                        <code>stock NOT counted</code>
                    </p>
                </div>
                <!--<div class="form-group row">
                    <br />
                </div>-->
                <div class="form-group row">
                    <div class="col-md-1"></div>
                    <div class="col-md-10" id="productsGridDiv">

                        <div class="row table-responsive">
                            <!--JS Data table -->
                            <table cellpadding="0" cellspacing="0" border="0" class="display table-condensed table-striped" id="productsGrid"></table>
                        </div>
                    </div>
                    <div class="col-md-1"></div>
                </div>
            </fieldset>
        </div>
    </div>


    <!-- Modal to insert/edit/view info-->
    <div id="myModal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title" id="modalTitle">Amend Stock count : {{vm.productListId}}</h4>
                </div>

                <div class="modal-body">                       
                                                
                    <div class="row formRawPaddingCustom">
                        <label for="category" class="control-label col-md-2 fontWeightNormal">Category</label>
                        <div class="col-md-4">
                            <input type="text" id="category" disabled value="{{vm.categoryName}}" />
                        </div>
                        <label for="condition" class="control-label col-md-2 fontWeightNormal">Condition</label>
                        <div class="col-md-4">
                            <input type="text" id="condition" disabled value="{{vm.conditionName}}" />
                        </div>
                    </div>

                    <div class="row formRawPaddingCustom">
                        <label for="brand" class="control-label col-md-2 fontWeightNormal">Brand</label>
                        <div class="col-md-4">
                            <input type="text" id="brand" disabled value="{{vm.brandName}}" />
                        </div>
                        <label for="modelName" class="control-label col-md-2 fontWeightNormal">Model</label>
                        <div class="col-md-4">
                            <input type="text" id="modelName" disabled value="{{vm.modelName}}" />
                        </div>
                    </div>

                    <div class="row">
                        <label for="countedSpan" class="control-label col-md-2 fontWeightNormal">Counted</label>
                        <div class="col-md-4">
                            <!--<span id="counted" ng-bind-html="{{vm.counted}}"></span>-->
                            <span id="countedSpan"></span>
                        </div>
                        <label for="stockCount" class="control-label col-md-2 fontWeightNormal">Stock count</label>
                        <div class="col-md-4">
                            <input type="text" id="stockCount" ng-model="vm.stockCount" onkeypress="return isNumberKey(event)" maxlength="8" />
                        </div>
                    </div>

                    <!-- error message section -->
                    <div class="row">
                        <div class="col-md-12">
                            <label class="control-label fontWeightNormal" style="color:red" id="lblErrorMessagePopup"></label>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button id="btnSave" type="button" class="btn-sm btn-primary" ng-click='vm.saveStockAmendment()'>Save</button>
                    <button id="btnCancel" type="button" class="btn-sm btn-default" data-dismiss="modal">Cancel</button>
                </div>

            </div>
        </div>
    </div>
    <!--End modal popup-->

</div>